webpackJsonp([77],{TqMj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{visible:!1,dataForm:{id:0,name:"",growthPoint:0,defaultStatus:0,freeFreightPoint:0,commentGrowthPoint:0,priviledgeFreeFreight:0,priviledgeMemberPrice:0,priviledgeBirthday:0,note:""},dataRule:{name:[{required:!0,message:"等级名称不能为空",trigger:"blur"}],growthPoint:[{required:!0,message:"等级需要的成长值不能为空",trigger:"blur"}],defaultStatus:[{required:!0,message:"是否为默认等级[0->不是；1->是]不能为空",trigger:"blur"}],freeFreightPoint:[{required:!0,message:"免运费标准不能为空",trigger:"blur"}],commentGrowthPoint:[{required:!0,message:"每次评价获取的成长值不能为空",trigger:"blur"}],priviledgeFreeFreight:[{required:!0,message:"是否有免邮特权不能为空",trigger:"blur"}],priviledgeMemberPrice:[{required:!0,message:"是否有会员价格特权不能为空",trigger:"blur"}],priviledgeBirthday:[{required:!0,message:"是否有生日特权不能为空",trigger:"blur"}],note:[{required:!0,message:"备注不能为空",trigger:"blur"}]}}},methods:{init:function(e){var t=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick(function(){t.$refs.dataForm.resetFields(),t.dataForm.id&&t.$http({url:t.$http.adornUrl("/member/memberlevel/info/"+t.dataForm.id),method:"get",params:t.$http.adornParams()}).then(function(e){var r=e.data;r&&0===r.code&&(t.dataForm.name=r.memberLevel.name,t.dataForm.growthPoint=r.memberLevel.growthPoint||0,t.dataForm.defaultStatus=r.memberLevel.defaultStatus||0,t.dataForm.freeFreightPoint=r.memberLevel.freeFreightPoint||0,t.dataForm.commentGrowthPoint=r.memberLevel.commentGrowthPoint||0,t.dataForm.priviledgeFreeFreight=r.memberLevel.priviledgeFreeFreight||0,t.dataForm.priviledgeMemberPrice=r.memberLevel.priviledgeMemberPrice||0,t.dataForm.priviledgeBirthday=r.memberLevel.priviledgeBirthday||0,t.dataForm.note=r.memberLevel.note)})})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$http({url:e.$http.adornUrl("/member/memberlevel/"+(e.dataForm.id?"update":"save")),method:"post",data:e.$http.adornData({id:e.dataForm.id||void 0,name:e.dataForm.name,growthPoint:e.dataForm.growthPoint,defaultStatus:e.dataForm.defaultStatus,freeFreightPoint:e.dataForm.freeFreightPoint,commentGrowthPoint:e.dataForm.commentGrowthPoint,priviledgeFreeFreight:e.dataForm.priviledgeFreeFreight,priviledgeMemberPrice:e.dataForm.priviledgeMemberPrice,priviledgeBirthday:e.dataForm.priviledgeBirthday,note:e.dataForm.note})}).then(function(t){var r=t.data;r&&0===r.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(r.msg)})})}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"120px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.dataFormSubmit()}}},[r("el-form-item",{attrs:{label:"等级名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"等级名称"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所需成长值",prop:"growthPoint"}},[r("el-input-number",{attrs:{min:0},model:{value:e.dataForm.growthPoint,callback:function(t){e.$set(e.dataForm,"growthPoint",t)},expression:"dataForm.growthPoint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"默认等级",prop:"defaultStatus"}},[r("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.defaultStatus,callback:function(t){e.$set(e.dataForm,"defaultStatus",t)},expression:"dataForm.defaultStatus"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"免运费标准",prop:"freeFreightPoint"}},[r("el-input-number",{attrs:{min:0},model:{value:e.dataForm.freeFreightPoint,callback:function(t){e.$set(e.dataForm,"freeFreightPoint",t)},expression:"dataForm.freeFreightPoint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"每次评价获取的成长值",prop:"commentGrowthPoint"}},[r("el-input-number",{attrs:{min:0},model:{value:e.dataForm.commentGrowthPoint,callback:function(t){e.$set(e.dataForm,"commentGrowthPoint",t)},expression:"dataForm.commentGrowthPoint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否有免邮特权",prop:"priviledgeFreeFreight"}},[r("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeFreeFreight,callback:function(t){e.$set(e.dataForm,"priviledgeFreeFreight",t)},expression:"dataForm.priviledgeFreeFreight"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否有会员价格特权",prop:"priviledgeMemberPrice"}},[r("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeMemberPrice,callback:function(t){e.$set(e.dataForm,"priviledgeMemberPrice",t)},expression:"dataForm.priviledgeMemberPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否有生日特权",prop:"priviledgeBirthday"}},[r("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeBirthday,callback:function(t){e.$set(e.dataForm,"priviledgeBirthday",t)},expression:"dataForm.priviledgeBirthday"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"note"}},[r("el-input",{attrs:{placeholder:"备注"},model:{value:e.dataForm.note,callback:function(t){e.$set(e.dataForm,"note",t)},expression:"dataForm.note"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},o=r("VU/8")(a,i,!1,null,null,null);t.default=o.exports}});